(function(a,b){'object'==typeof exports&&'undefined'!=typeof module?b(exports,require('react'),require('react-dom')):'function'==typeof define&&define.amd?define(['exports','react','react-dom'],b):b(a.Remount={},a.React,a.ReactDOM)})(this,function(a,b,c){'use strict';function d(a){return'object'==typeof a&&a.component?a:{component:a}}function e(a,b){const d=a.attributes||[];class e extends window.HTMLElement{static get observedAttributes(){return['props-json',...d]}connectedCallback(){this._mountPoint=g(this,a),h(this,a,this._mountPoint)}disconnectedCallback(){this._mountPoint&&c.unmountComponentAtNode(this._mountPoint)}attributeChangedCallback(){this._mountPoint&&h(this,a,this._mountPoint)}}!f()||a.quiet&&window.customElements.get(b)||window.customElements.define(b,e)}function f(){return!!(window.customElements&&window.customElements.define)||(console.error('remount: Custom elements aren\'t support in this browser. Remount will not work. Including polyfills will likely fix this. See Remount documentation for more info: https://github.com/rstacruz/remount'),!1)}function g(a,{shadow:b}){if(b){const b=document.createElement('span');return a.attachShadow({mode:'open'}).appendChild(b),b}return a}function h(a,{component:d,attributes:e},f){const g=a.hasAttribute('props-json')?JSON.parse(a.getAttribute('props-json')):i(a,e),h=b.createElement(d,g);c.render(h,f)}function i(a,b){return(b||[]).reduce((b,c)=>(b[c]=a.getAttribute(c),b),{})}c=c&&c.hasOwnProperty('default')?c['default']:c,a.define=function(a,b){Object.keys(a).forEach((c)=>{const f=d(a[c]);e(Object.assign({},b,f),c)})},Object.defineProperty(a,'__esModule',{value:!0})});
